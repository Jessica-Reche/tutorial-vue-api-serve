(function(){"use strict";var o={9912:function(o,r,a){var t=a(9242),i=a(3396);const e={id:"app",class:"container"},s=(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"col-md-12 mt-2"},[(0,i._)("h1",null,"Usuarios")])],-1),n={class:"row"},u={class:"col-md-12"};function l(o,r,a,t,l,c){const d=(0,i.up)("formulario-usuario"),m=(0,i.up)("tabla-usuarios");return(0,i.wg)(),(0,i.iD)("div",e,[s,(0,i._)("div",n,[(0,i._)("div",u,[(0,i.Wm)(d,{onCrearUsuario:c.postUsuario},null,8,["onCrearUsuario"]),(0,i.Wm)(m,{usuarios:l.usuarios,onEliminarUsuario:c.deleteUsuario,onActualizarUsuario:c.putUsuario},null,8,["usuarios","onEliminarUsuario","onActualizarUsuario"])])])])}var c=a(7139);const d={id:"tabla-usuarios"},m={key:0,class:"alert alert-info",role:"alert"},h={class:"table"},p=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Nombre"),(0,i._)("th",null,"Email"),(0,i._)("th",null,"Acciones")])],-1),f={key:0},v=["onUpdate:modelValue"],y={key:1},b={key:2},g=["onUpdate:modelValue"],_={key:3},w={key:4},U=["onClick"],k=["onClick"],E={key:5},j=["onClick"],C=["onClick"];function D(o,r,a,e,s,n){return(0,i.wg)(),(0,i.iD)("div",d,[a.usuarios.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",m," No se han agregado usuarios ")),(0,i._)("table",h,[p,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.usuarios,(r=>((0,i.wg)(),(0,i.iD)("tr",{key:r.id},[s.editando===r.id?((0,i.wg)(),(0,i.iD)("td",f,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>r.name=o},null,8,v),[[t.nr,r.name]])])):((0,i.wg)(),(0,i.iD)("td",y,(0,c.zw)(r.name),1)),s.editando===r.id?((0,i.wg)(),(0,i.iD)("td",b,[(0,i.wy)((0,i._)("input",{type:"email",class:"form-control","onUpdate:modelValue":o=>r.email=o},null,8,g),[[t.nr,r.email]])])):((0,i.wg)(),(0,i.iD)("td",_,(0,c.zw)(r.email),1)),s.editando===r.id?((0,i.wg)(),(0,i.iD)("td",w,[(0,i._)("button",{class:"btn btn-success",onClick:o=>n.guardarUsuario(r)},"💾 Guardar",8,U),(0,i._)("button",{class:"btn btn-secondary ml-2",onClick:o=>n.cancelarEdicion(r)},"❌ Cancelar",8,k)])):((0,i.wg)(),(0,i.iD)("td",E,[(0,i._)("button",{class:"btn btn-info",onClick:o=>n.editarUsuario(r)},"✏️ Editar",8,j),(0,i._)("button",{class:"btn btn-danger ml-2",onClick:a=>o.$emit("eliminar-usuario",r)},"🗑️ Eliminar",8,C)]))])))),128))])])])}var O={name:"tabla-usuarios",props:{usuarios:Array},data(){return{editando:null}},methods:{editarUsuario(o){this.usuarioEditado=Object.assign({},o),this.editando=o.id},guardarUsuario(o){o.name.length&&o.email.length&&(this.$emit("actualizar-usuario",o),this.editando=null)},cancelarEdicion(o){Object.assign(o,this.usuarioEditado),this.editando=null}}},F=a(89);const T=(0,F.Z)(O,[["render",D]]);var x=T;const I={id:"formulario-usuario"},V={class:"container"},$={class:"row"},z={class:"col-md-4"},A={class:"form-group"},N=(0,i._)("label",null,"Nombre",-1),P={class:"col-md-4"},S={class:"form-group"},q=(0,i._)("label",null,"Email",-1),Z=(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"col-md-4"},[(0,i._)("div",{class:"form-group"},[(0,i._)("button",{class:"btn btn-primary"},"Añadir usuario")])])],-1),J={class:"container"},K={class:"row"},M={class:"col-md-12"},W={key:0,class:"alert alert-danger",role:"alert"},G={key:1,class:"alert alert-success",role:"alert"};function H(o,r,a,e,s,n){return(0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("form",{onSubmit:r[5]||(r[5]=(0,t.iM)(((...o)=>n.enviarFormulario&&n.enviarFormulario(...o)),["prevent"]))},[(0,i._)("div",V,[(0,i._)("div",$,[(0,i._)("div",z,[(0,i._)("div",A,[N,(0,i.wy)((0,i._)("input",{ref:"name","onUpdate:modelValue":r[0]||(r[0]=o=>s.usuario.name=o),type:"text",class:(0,c.C_)(["form-control",{"is-invalid":s.procesando&&n.nameInvalido}]),onFocus:r[1]||(r[1]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:r[2]||(r[2]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[t.nr,s.usuario.name]])])]),(0,i._)("div",P,[(0,i._)("div",S,[q,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":r[3]||(r[3]=o=>s.usuario.email=o),type:"email",class:(0,c.C_)([{"is-invalid":s.procesando&&n.emailInvalido},"form-control"]),onFocus:r[4]||(r[4]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[t.nr,s.usuario.email]])])])]),Z]),(0,i._)("div",J,[(0,i._)("div",K,[(0,i._)("div",M,[s.error&&s.procesando?((0,i.wg)(),(0,i.iD)("div",W," Debes rellenar todos los campos! ")):(0,i.kq)("",!0),s.correcto?((0,i.wg)(),(0,i.iD)("div",G," El usuario ha sido agregado correctamente! ")):(0,i.kq)("",!0)])])])],32)])}var L={name:"formulario-usuario",data(){return{procesando:!1,correcto:!1,error:!1,usuario:{name:"",email:""}}},methods:{enviarFormulario(){this.procesando=!0,this.resetEstado(),this.nameInvalido||this.emailInvalido?this.error=!0:(this.$emit("crear-usuario",this.usuario),this.$refs.name.focus(),this.error=!1,this.correcto=!0,this.procesando=!1,this.usuario={name:"",email:""})},resetEstado(){this.correcto=!1,this.error=!1}},computed:{nameInvalido(){return this.usuario.name.length<1},emailInvalido(){return this.usuario.email.length<1}}};const Y=(0,F.Z)(L,[["render",H]]);var B=Y,Q={name:"app",data(){return{usuarios:[]}},components:{TablaUsuarios:x,FormularioUsuario:B},methods:{async getUsuarios(){try{const o=await fetch("https://jsonplaceholder.typicode.com/users");this.usuarios=await o.json()}catch(o){console.error(o)}},async postUsuario(o){try{const r=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),a=await r.json();this.usuarios=[...this.usuarios,a]}catch(r){console.error(r)}},async putUsuario(o){try{const r=await fetch(`https://jsonplaceholder.typicode.com/users/${o.id}`,{method:"PUT",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),a=await r.json();this.usuarios=this.usuarios.map((r=>r.id===o.id?a:r))}catch(r){console.error(r)}},async deleteUsuario(o){try{await fetch(`https://jsonplaceholder.typicode.com/usuarios/${o.id}`,{method:"DELETE"}),this.usuarios=this.usuarios.filter((r=>r.id!==o.id))}catch(r){console.error(r)}}},mounted(){this.getUsuarios()}};const R=(0,F.Z)(Q,[["render",l]]);var X=R;(0,t.ri)(X).mount("#app")}},r={};function a(t){var i=r[t];if(void 0!==i)return i.exports;var e=r[t]={exports:{}};return o[t](e,e.exports,a),e.exports}a.m=o,function(){var o=[];a.O=function(r,t,i,e){if(!t){var s=1/0;for(c=0;c<o.length;c++){t=o[c][0],i=o[c][1],e=o[c][2];for(var n=!0,u=0;u<t.length;u++)(!1&e||s>=e)&&Object.keys(a.O).every((function(o){return a.O[o](t[u])}))?t.splice(u--,1):(n=!1,e<s&&(s=e));if(n){o.splice(c--,1);var l=i();void 0!==l&&(r=l)}}return r}e=e||0;for(var c=o.length;c>0&&o[c-1][2]>e;c--)o[c]=o[c-1];o[c]=[t,i,e]}}(),function(){a.n=function(o){var r=o&&o.__esModule?function(){return o["default"]}:function(){return o};return a.d(r,{a:r}),r}}(),function(){a.d=function(o,r){for(var t in r)a.o(r,t)&&!a.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){a.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)}}(),function(){var o={143:0};a.O.j=function(r){return 0===o[r]};var r=function(r,t){var i,e,s=t[0],n=t[1],u=t[2],l=0;if(s.some((function(r){return 0!==o[r]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(u)var c=u(a)}for(r&&r(t);l<s.length;l++)e=s[l],a.o(o,e)&&o[e]&&o[e][0](),o[e]=0;return a.O(c)},t=self["webpackChunktutorial_rest_vue"]=self["webpackChunktutorial_rest_vue"]||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(9912)}));t=a.O(t)})();
//# sourceMappingURL=app.5b9fc9a8.js.map